<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Login - Direct Admin Access</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen bg-gradient-to-br from-purple-600 via-blue-600 to-cyan-600 flex items-center justify-center p-4">
    <div class="bg-white/10 backdrop-blur-lg rounded-3xl p-8 max-w-md w-full border-2 border-white/20">
        <h1 class="text-4xl font-bold text-white text-center mb-2">ğŸ” ØªØ³Øª Ø¯Ø³ØªØ±Ø³ÛŒ</h1>
        <p class="text-white/80 text-center mb-8">ÙˆØ±ÙˆØ¯ Ù…Ø³ØªÙ‚ÛŒÙ… Ø¨Ø¯ÙˆÙ† Firestore</p>

        <div class="bg-white/10 rounded-2xl p-6 mb-6">
            <h2 class="text-xl font-bold text-white mb-4">ğŸ“‹ Ø§Ø·Ù„Ø§Ø¹Ø§Øª ÙˆØ±ÙˆØ¯:</h2>
            <div class="space-y-3 text-white">
                <div class="flex justify-between">
                    <span class="text-white/60">Ø§ÛŒÙ…ÛŒÙ„:</span>
                    <span class="font-bold">salehsarubi@gmail.com</span>
                </div>
                <div class="flex justify-between">
                    <span class="text-white/60">Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±:</span>
                    <span class="font-bold">Saleh@123456</span>
                </div>
            </div>
        </div>

        <form id="loginForm" class="space-y-4">
            <div>
                <label class="block text-white/80 mb-2 font-medium">Ø§ÛŒÙ…ÛŒÙ„</label>
                <input
                    type="email"
                    id="email"
                    value="salehsarubi@gmail.com"
                    class="w-full bg-white/20 border-2 border-white/30 rounded-xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:border-white/60"
                    required
                />
            </div>

            <div>
                <label class="block text-white/80 mb-2 font-medium">Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±</label>
                <input
                    type="password"
                    id="password"
                    value="Saleh@123456"
                    class="w-full bg-white/20 border-2 border-white/30 rounded-xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:border-white/60"
                    required
                />
            </div>

            <button
                type="submit"
                class="w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white font-bold py-4 rounded-xl hover:from-green-600 hover:to-emerald-700 transition-all transform hover:scale-105"
            >
                ÙˆØ±ÙˆØ¯
            </button>
        </form>

        <div id="status" class="mt-6 p-4 rounded-xl hidden"></div>

        <div class="mt-8 p-4 bg-yellow-500/20 border-2 border-yellow-500 rounded-xl">
            <h3 class="text-white font-bold mb-2">âš ï¸ Ù…Ø´Ú©Ù„ Firestore Rules</h3>
            <p class="text-white/90 text-sm leading-relaxed">
                Firebase Rules Ù‡Ù†ÙˆØ² Ø¨Ù‡â€ŒØ¯Ø±Ø³ØªÛŒ Ù…Ù†ØªØ´Ø± Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª. Ø¨Ø¹Ø¯ Ø§Ø² Login Ù…ÙˆÙÙ‚ØŒ Ø¨Ù‡ Admin Panel Ø¯Ø³ØªØ±Ø³ÛŒ Ø®ÙˆØ§Ù‡ÛŒØ¯ Ø¯Ø§Ø´Øª.
            </p>
        </div>
    </div>

    <script type="module">
        // Import Firebase
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getAuth, signInWithEmailAndPassword } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';

        // Firebase Config
        const firebaseConfig = {
            apiKey: "AIzaSyC8x1w4-ySwAEWOSlFWMgPTsrqd45z0YTs",
            authDomain: "topinanaliz.firebaseapp.com",
            projectId: "topinanaliz",
            storageBucket: "topinanaliz.firebasestorage.app",
            messagingSenderId: "517605835331",
            appId: "1:517605835331:web:e7fbba1ddb95ce93aa0af6"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        const form = document.getElementById('loginForm');
        const status = document.getElementById('status');

        form.addEventListener('submit', async (e) => {
            e.preventDefault();

            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;

            status.className = 'mt-6 p-4 rounded-xl bg-blue-500/20 border-2 border-blue-500';
            status.textContent = 'ğŸ”„ Ø¯Ø± Ø­Ø§Ù„ ÙˆØ±ÙˆØ¯...';
            status.classList.remove('hidden');

            try {
                const userCredential = await signInWithEmailAndPassword(auth, email, password);

                status.className = 'mt-6 p-4 rounded-xl bg-green-500/20 border-2 border-green-500';
                status.innerHTML = `
                    <div class="text-white font-bold mb-2">âœ… ÙˆØ±ÙˆØ¯ Ù…ÙˆÙÙ‚ÛŒØªâ€ŒØ¢Ù…ÛŒØ²!</div>
                    <div class="text-white/90 mb-4">Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† ${userCredential.user.email} ÙˆØ§Ø±Ø¯ Ø´Ø¯ÛŒØ¯</div>
                    <div class="text-white/80 text-sm mb-4">Ø¯Ø± Ø­Ø§Ù„ Ø§Ù†ØªÙ‚Ø§Ù„ Ø¨Ù‡ ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ...</div>
                `;

                // Redirect Ø¨Ø¹Ø¯ Ø§Ø² 2 Ø«Ø§Ù†ÛŒÙ‡
                setTimeout(() => {
                    window.location.href = '/';
                }, 2000);

            } catch (error) {
                console.error('Login error:', error);
                status.className = 'mt-6 p-4 rounded-xl bg-red-500/20 border-2 border-red-500';
                status.innerHTML = `
                    <div class="text-white font-bold mb-2">âŒ Ø®Ø·Ø§ Ø¯Ø± ÙˆØ±ÙˆØ¯</div>
                    <div class="text-white/90 text-sm">${error.message}</div>
                `;
            }
        });
    </script>
</body>
</html>
